<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="dailyatten_pdf_template">
      <t t-call="web.html_container">
       
          <t t-call="web.external_layout">
              <div class="page">
                <h4 class="text-right">
                    <strong>
                       Daily Attendance
                       <!--<span t-esc="month[0]"/>-->
                    </strong>
                </h4>
                <div class="container">
                    <div class="row justify-content-end">
                        <div class="col-6 table-sm table-bordered" style="font-size:11px;">
                            <center>
                                <strong>
                                    <u>Flag Defination</u>
                                </strong>
                            </center>
                            <!--<br/>-->
                            <div class="row">
                                <div class="col-6">
                                    <span class="small">P=Present</span>
                                    <br/>
                                    <span class="small">A=Absent</span>
                                    <br/>
                                    <span class="small">L=Late</span>
                                    <br/>
                                    
                                </div>
                                <div class="col-6">
                                    <span class="small">TO=Timely Out</span>
                                    <br/>
                                    <span class="small">PO=Pending Out</span>
                                    <br/>
                                    <span class="small">EO=Early Out</span>
                                    <br/>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <t t-foreach="dpt" t-as="dp">
                  <t t-set="total_dep_employee" t-value="0"/>
                    

                    <t t-foreach="sec.filtered(lambda x: (x.parent_id.id == dp.id))" t-as="se">
                       <t t-set="total_sec_employee" t-value="0"/>
                        <div class="container">
                        <!--<div class="row">-->
                        <div style="font-size: 12px;">
                            <strong>DEPARTMENT:</strong>
                            <span t-esc="dp.name" style="color:  #cc7000"/>
                        </div>
                        <!--</div>-->
                      </div>
                        <div class="container">
                            <!--<div class="row">-->
                            <div style="font-size: 12px;">
                                <strong>SECTION:</strong>
                                <span t-esc="se.name" style="color:  #cc7000"/>
                            </div>
                            <!--</div>-->
                        </div>
                        <br/>

                        <!--<div class="container">-->
                        <!--   <div class="row">-->
                        <!--      <div class="col-6">-->
                        <!--         <div class="row">-->
                        <!--            <div>-->
                        <!--               <strong>DEPARTMENT:</strong>-->
                        <!--               <span t-esc="emp[5]"/>-->
                        <!--            </div>-->
                        <!--         </div>-->
                        <!--         <div class="row">-->
                        <!--            <div>-->
                        <!--               <strong>SECTION:</strong>-->
                        <!--               <span t-esc="emp[6]"/>-->
                        <!--            </div>-->
                        <!--         </div>-->
                        <!--         <div class="row">-->
                        <!--            <div>-->
                        <!--               <strong>EMPLOYEE CATEGORY:</strong>-->
                        <!--               <span t-esc="emp[7]"/>-->
                        <!--            </div>-->
                        <!--         </div>-->
                        <!--      </div>-->
                        <!--   </div>-->
                        <!--</div>-->

                        <div class="container">

                            <t t-foreach="datas" t-as="emp">
                               
                                <t t-if="emp[9] == se.id">
                                
                                    <table class="table table-sm p-0 m-0" style="font-size:7px; table-layout:fixed; page-break-inside: avoid;">
                                        <thead>
                                            <!--<tr align="center" style="background-color:#E2E2E2;" t-foreach="alldays" t-as="ald">-->
                                            <tr align="center" style="background-color:orange;">
                                                <th>Code</th>
                                                <th colspan="3">
                                                    <center>Emloyee Name</center>
                                                </th>
                                                <th colspan="3">Designation</th>
                                                <t t-foreach="alldays" t-as="ald">
                                                    <t t-foreach="docs.filtered(lambda x: (x.attDate == ald[0]) and (x.employee_id.id == emp[2]))" t-as="att" style="border: 1pt solid black;border-collapse:separate;">
                                                        <th>
                                                            <span t-esc="att.attDate.strftime('%d')"/>
                                                            <br/>
                                                            <span t-esc="att.attDate.strftime('%b')"/>
                                                        </th>
                                                    </t>
                                                </t>
                                                <th>P/TO</th>
                                                <th>L/EO</th>
                                                <th>A/PO</th>
                                            </tr>
                                            <!--</tr>-->
                                        </thead>
                                        <tbody>
                                        </tbody>
                                            
                                          
                                            
                                    </table>
                                </t>
                            </t>
                        </div>
                        <br/>
                    <!--    <div class="container">-->
                    <!--  <div class="row justify-content-end" style="font-size:12px;">-->
                    <!--<p>Section <strong t-esc="se.name" style="color: #cc7000"/> Total Employee : <strong t-esc="total_sec_employee" style="color: #cc7000"/></p>-->
                    <!--  </div>-->
                    <!--</div>-->
                    <!--<br/>-->

                    </t>
                    <!--<div class="container">-->
                    <!--  <div class="row justify-content-end" style="font-size:12px;">-->
                    <!--<p>Department <strong t-esc="dp.name" style="color: #cc7000"/> total Employee : <strong t-esc="total_dep_employee" style="color: #cc7000"/></p>-->
                    <!--  </div>-->
                    <!--</div>-->
                   
                    
                </t>
            </div>
             
          </t>
        </t>
      
    </template>

</odoo>